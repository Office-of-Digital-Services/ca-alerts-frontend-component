<div data-nosnippet id="ca_alert" role="alertdialog" aria-labelledby="heading">
  <div>
    <h1 id="heading">[ALERT_HEADING]</h1>
    <p>
      [ALERT_BODY]
      <a
        href="[ALERT_TARGET_URL]"
        class="[ALERT_LINK_CLASS_HIDDEN]"
        target="_parent"
        >Get more info.</a
      >
    </p>
  </div>
  <button id="close_button" aria-label="Dismiss this alert">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<script>
  (() => {
   const iFrame = window.parent.document.getElementById("ca_alert_frame");

   document.getElementById("close_button").addEventListener(
    "click",

    () => {
     iFrame.style.display = "none"; //Will not be overridden by a resize to remove the hidden class

     //make sure CaAlertsLocalStorageMessageDismissed matches in alert-code.js

     localStorage.setItem(
      "CaAlertsLocalStorageMessageDismissed",
      "[ALERT_ACTIVE_MESSAGE_HTML_URL]"
     );
    }
   );

   /**
    * Set the outer iFrame height to match the inner content
    */
   const updateFrameHeight = () => {
    iFrame.style.height =
     document.getElementById("ca_alert").offsetHeight + "px";
    iFrame.className = ""; //Whatever classes we set to hide will be cleared
   };

   // Need to set the frame height when loaded AND during resize
   window.addEventListener("DOMContentLoaded", updateFrameHeight);
   window.addEventListener("resize", updateFrameHeight);
  })();
</script>
<style>
  body {
   margin: 0;
  }
  .hidden {
   display: none; /* This is used to hide the link only, not for hiding the frame */
  }
  #ca_alert {
   background: #fff;
   padding: 1rem;
   color: #000;
   font-family: Open-Sans, Arial, Helvetica, sans-serif;
   line-height: 1.5rem;
  }
  #ca_alert > div {
   margin-left: 1.25rem;
   color: #333;
  }
  p {
   margin: 0.5rem 0;
  }
  h1 {
   position: relative;
   margin: 0;
   font-size: 1.2rem;
  }
  h1::before {
   content: "!";
   width: 1.5rem;
   background: #e07000;
   border-radius: 50%;
   text-align: center;
   position: absolute;
   left: -1.8rem;
  }
  a {
   color: #046b99;
   text-decoration: underline;
  }
  #close_button {
   font-family: inherit; /* needed for Safari */
   color: #757575;
   border-radius: 50%;
   border: 1px solid #757575;
   background: #fff;
   height: 1.5rem;
   width: 1.5rem;
   font-size: 1.5rem;
   line-height: 1.5rem;
   padding: 0;
   position: absolute;
   top: 0.25rem;
   right: 0.25rem;
  }
  #close_button:hover {
   background: #e8e8e8;
   cursor: pointer;
  }
</style>
